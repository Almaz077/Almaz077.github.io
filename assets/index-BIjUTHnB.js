import{r as x,j as e}from"./index-Be2Hz3rG.js";import{T as f}from"./Table-DixblasI.js";import{k as h,n as g}from"./helpers-DLOf70Zj.js";import{I as m}from"./Input-B6dY_7nE.js";import{b as y,a as v}from"./useUpdateSetpointValue-BXREp25a.js";import{s as w}from"./shallow-Bm4ufq9Z.js";const j=({id:s,value:o})=>{const[r,d]=h(n=>[n.nodes,n.updateNodes]),t=x.useMemo(()=>r.find(n=>n.id===s),[r]);if(!t)return e.jsx("div",{children:"узел не найден"});const a=n=>{const u={...t,data:{...t==null?void 0:t.data,name:n}},l=r.map(i=>i.id===u.id?u:i);d(l)};return e.jsx(m,{value:o,onChange:n=>a(n.target.value)})},b=({id:s,data:o})=>{const{type:r,setpointOffset:d,name:t,setpointDataType:a}=o,{handleChange:n,inputValue:u}=y(a,d);return e.jsxs(e.Fragment,{children:[e.jsx("td",{children:s},0),e.jsx("td",{children:r},1),e.jsx("td",{children:e.jsx(j,{value:t??"",id:s})},2),e.jsx("td",{children:e.jsx(m,{type:"text",value:u,onChange:n})},3)]})},F=({id:s,data:o})=>{const{type:r,setpointOffset:d,name:t,outputHandles:a}=o,{handleFourierGarmonicForOutput:n,inputsValue:u}=v(d),l=Object.values(a).reduce((i,p,c)=>(c%2===0?i.push([p]):i[i.length-1].push(p),i),[]);return e.jsxs(e.Fragment,{children:[e.jsx("td",{children:s},0),e.jsx("td",{children:r},1),e.jsx("td",{children:e.jsx(j,{value:t??"",id:s})},2),e.jsx("td",{style:{display:"flex",gap:"10px"},children:l.map((i,p)=>e.jsx(m,{style:{width:"60px"},type:"number",value:u[p],onChange:c=>n(p,c.target.value)},p))},3)]})},N={id:"",type:"",name:"",value:0};function R(s){return"setpointOffset"in s.data}const T=()=>{const s=h(t=>t.nodes,w),o=x.useMemo(()=>s.filter(a=>R(a)).map(a=>({id:a.id,data:a.data})),[s]);return{renderHead:()=>e.jsx(e.Fragment,{children:g(N).map(t=>e.jsx("th",{children:t},t))}),rows:o,renderRow:t=>t.data.type==="fourierInt"?e.jsx(F,{id:t.id,data:t.data}):e.jsx(b,{id:t.id,data:t.data})}},S=({})=>{const{renderHead:s,rows:o,renderRow:r}=T();return e.jsx("div",{children:e.jsx(f,{rowItems:o,renderHead:s,renderRow:r,getRowKey:d=>d.id,maxWidth:1e3})})},B=()=>e.jsx("div",{children:e.jsx(S,{})});export{B as default};
